"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8225],{75431:function(e,t,s){var a=s(57437),l=s(2265),n=s(20988),r=s(33145),i=s(33200);let o=l.forwardRef((e,t)=>{let{variant:s="default",title:l="Button",onClick:r,className:o,children:c,...d}=e;return(0,a.jsx)(n.E.button,{ref:t,onClick:r,className:(0,i.cn)("inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-medium transition-all duration-200 focus:outline-none",{default:"bg-black text-white hover:bg-gray-800",outline:"bg-transparent border border-gray-300 text-gray-600 hover:bg-gray-50",primary:"bg-black text-white hover:bg-gray-800",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",ghost:"bg-transparent text-gray-600 hover:bg-gray-100"}[s],o),whileHover:{scale:1.02},whileTap:{scale:.98},...d,children:c||l})});o.displayName="Button";let c=l.forwardRef((e,t)=>{let{variant:s="default",title:c="Diet assistant",appLogo:d,backgroundColor:u="#f8fafc",phoneScreenshots:h=[],onMouseEnter:m,onClick:x,className:p,...g}=e,[f,v]=(0,l.useState)(!1);return(0,a.jsxs)(n.E.div,{ref:t,className:(0,i.cn)("relative w-full h-[480px] rounded-3xl overflow-hidden cursor-pointer group",p),onMouseEnter:()=>{v(!0),null==m||m()},onMouseLeave:()=>{v(!1)},onClick:()=>{null==x||x()},whileHover:{scale:1.02},transition:{duration:.3},...g,children:[(0,a.jsxs)("div",{className:"absolute inset-0 w-full h-full",children:[d&&(0,a.jsx)("div",{className:"absolute inset-0",children:(0,a.jsx)(r.default,{src:d.src,alt:d.alt||"App Logo",fill:!0,className:"object-contain object-top opacity-15",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})}),(0,a.jsx)("div",{className:"absolute inset-0",style:{background:"linear-gradient(to top, ".concat(u," 50%, transparent 100%)")}}),h.length>0&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,a.jsxs)("div",{className:"relative flex items-center",children:[h[0]&&(0,a.jsx)("div",{className:"relative z-10 shadow-lg",children:(0,a.jsx)("div",{className:"relative w-32 h-56 rounded-[12px] overflow-hidden bg-white",children:(0,a.jsx)(r.default,{src:h[0].src,alt:h[0].alt||"Phone screenshot 1",fill:!0,className:"object-cover",sizes:"130px"})})}),h[1]&&(0,a.jsx)("div",{className:"relative z-20 -ml-4 -mr-4 shadow-xl",children:(0,a.jsx)("div",{className:"relative w-36 h-64 rounded-[14px] overflow-hidden bg-white",children:(0,a.jsx)(r.default,{src:h[1].src,alt:h[1].alt||"Phone screenshot 2",fill:!0,className:"object-cover",sizes:"150px"})})}),h[2]&&(0,a.jsx)("div",{className:"relative z-10 shadow-lg",children:(0,a.jsx)("div",{className:"relative w-32 h-56 rounded-[12px] overflow-hidden bg-white",children:(0,a.jsx)(r.default,{src:h[2].src,alt:h[2].alt||"Phone screenshot 3",fill:!0,className:"object-cover",sizes:"130px"})})})]})})]}),(0,a.jsx)("div",{className:(0,i.cn)("absolute inset-0 bg-black/60 transition-opacity duration-300 flex items-end z-20",f?"opacity-100":"opacity-0"),children:(0,a.jsxs)("div",{className:"p-8 w-full",children:[(0,a.jsx)(n.E.div,{className:"w-16 h-16 mb-4 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:f?1:0,y:f?0:20},transition:{delay:.1},children:d?(0,a.jsx)(r.default,{src:d.src,alt:d.alt||"App icon",width:40,height:40,className:"object-contain"}):(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg"})}),(0,a.jsx)(n.E.h4,{className:"text-2xl font-serif leading-tight text-white mb-6",initial:{opacity:0,y:20},animate:{opacity:f?1:0,y:f?0:20},transition:{delay:.2},children:c}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:f?1:0,y:f?0:20},transition:{delay:.3},children:(0,a.jsx)(o,{variant:"outline",title:"View Project",className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30"})})]})})]})});c.displayName="Card",t.default=c},44179:function(e,t,s){s.r(t),s.d(t,{default:function(){return o}});var a=s(57437);s(2265);var l=s(42586),n=s(62869),r=s(32660),i=s(14429);function o(e){let{categoryCode:t,categoryName:s,total:o}=e,c=(0,l.useTranslations)("community"),d=function(){let e=(0,i.aI)();return{...e,push:(t,s)=>{e.push(t,s)},back:t=>{window.history.length>1?e.back():e.push(t||"/")}}}();return(0,a.jsxs)("section",{className:"py-8 md:py-12",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 mb-4",children:(0,a.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>{d.push("/playbook")},className:"text-gray-600 hover:text-gray-900",children:[(0,a.jsx)(r.Z,{className:"mr-2 h-4 w-4"}),c("back")]})}),(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-serif text-gray-900",children:s||t}),o&&o>0&&(0,a.jsxs)("p",{className:"text-gray-600 mt-2",children:[c("totalTemplates"),o,c("totalTemplatesCount")]})]})}},41706:function(e,t,s){s.d(t,{ErrorBoundary:function(){return o}});var a=s(57437),l=s(2265),n=s(62869),r=s(76865),i=s(82431);class o extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Project template detail page error:",e,t)}render(){return this.state.hasError?(0,a.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-2xl text-center",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(r.Z,{className:"w-16 h-16 text-destructive mx-auto"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"页面加载出错"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md mx-auto",children:"加载项目模板详情时发生了错误。请稍后重试，或联系技术支持。"}),this.state.error&&(0,a.jsxs)("details",{className:"text-sm text-muted-foreground text-left bg-muted p-4 rounded-lg",children:[(0,a.jsx)("summary",{className:"cursor-pointer",children:"错误详情"}),(0,a.jsx)("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error.message})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(n.z,{onClick:()=>window.location.reload(),className:"gap-2",children:[(0,a.jsx)(i.Z,{className:"w-4 h-4"}),"刷新页面"]})})]})})}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}},90386:function(e,t,s){s.d(t,{default:function(){return l}});var a=s(57437);function l(e){let{t}=e;return(0,a.jsx)("button",{onClick:()=>{window.location.reload()},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:t("reload")})}},52724:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),l=s(2265),n=s(42586),r=s(37692),i=s(62869),o=s(51817),c=s(69076),d=s(85917);function u(e){let{initialTemplates:t=[],pageSize:s=8,cardClassName:u="h-[356px]",firstLevelCategoryCode:h,secondLevelCategoryCode:m,exceptProjectTemplateId:x,generateHref:p,generateCardProps:g,emptyMessage:f,enableInfiniteScroll:v=!0,trackingEvent:j="ClickHomepagePlaybookItem",initialPage:w=0,showInitialCards:b=!0,initialTotal:y=0,onDataLoad:N,onError:k}=e,C=(0,n.useTranslations)("playbook"),E=f||C("noProjectTemplates"),L=(0,l.useCallback)(e=>{let t=e.seo_url;return{projectTemplateId:e.project_template_id,name:e.name,description:e.slogan,icon:e.icon,iconRgb:e.icon_rgb,showcaseImageList:e.showcase_image_list,href:p?p(e):t,trackingEvent:j}},[p,j]),z=g||L,D=b?t.map(z):[],[_,S]=(0,l.useState)(D),[M,I]=(0,l.useState)(w),[T,Z]=(0,l.useState)(!1),[P,F]=(0,l.useState)(!0),[R,B]=(0,l.useState)(null),[W,A]=(0,l.useState)(y),[H,V]=(0,l.useState)(w>0||b&&t.length>0),G=(0,l.useRef)(null),J=(0,l.useRef)(!1),O=(0,l.useCallback)(async()=>{if(console.log("\uD83D\uDE80 [ListClient] loadMore called - isLoadingMore=".concat(T,", hasMore=").concat(P,", page=").concat(M)),T||!P){console.log("⚠️ [ListClient] Skipping loadMore - isLoadingMore=".concat(T,", hasMore=").concat(P));return}console.log("\uD83D\uDCE1 [ListClient] Starting to load more data"),Z(!0),B(null);try{let e=M+1;console.log("\uD83D\uDCE1 [ListClient] Loading page ".concat(e," (current page: ").concat(M,")"));let t=await function(e){let{first_level_category_code:t,second_level_category_code:s,except_project_template_id:a,page:l=1,page_size:n=8}=e;return t?(0,d.k6)({first_level_category_code:t,page:l,page_size:n}):s?(0,d.EF)({second_level_category_code:s,except_project_template_id:a,page:l,page_size:n}):void 0}({page:e,page_size:s,first_level_category_code:h,second_level_category_code:m,except_project_template_id:x});if((null==t?void 0:t.code)===200&&t.metadata){let a=t.metadata.project_template_list||[],l=a.map(z),n=t.metadata.total||0;console.log("✅ [ListClient] Successfully loaded page ".concat(e," - got ").concat(a.length," templates, total=").concat(n)),S(e=>(console.log("\uD83D\uDCDD [ListClient] Updating templates: previous count=".concat(e.length,", adding=").concat(l.length)),[...e,...l])),I(e),A(n),F(e*s<n),N&&N(l,n)}else console.log("❌ [ListClient] Invalid response for page ".concat(e,":"),t),F(!1)}catch(t){console.error("❌ [ListClient] Failed to load more templates:",t);let e=C("loadMoreError");B(e),k&&k(e)}finally{console.log("\uD83C\uDFC1 [ListClient] Finished loading, setting isLoadingMore=false"),Z(!1)}},[T,P,M,s,h,m,x,z,N,k,C]),U=(0,l.useCallback)(()=>{B(null),O()},[O]);return((0,l.useEffect)(()=>{if(console.log("\uD83D\uDD27 [ListClient] Initialization effect - isInitialized=".concat(H,", initialPage=").concat(w,", initialTemplates.length=").concat(t.length,", initializationRef.current=").concat(J.current)),J.current){console.log("⚠️ [ListClient] Already initialized, skipping");return}H||0!==w||0!==t.length?H||(console.log("✅ [ListClient] Initializing without loadMore() - initialPage=".concat(w,", initialTemplates.length=").concat(t.length)),J.current=!0,V(!0)):(console.log("✅ [ListClient] Initializing and calling loadMore()"),J.current=!0,V(!0),O())},[H,O,w,t.length]),(0,l.useEffect)(()=>{if(!v||!G.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&!T&&P&&O()},{threshold:.1});return e.observe(G.current),()=>{e.disconnect()}},[v,T,P,O]),b||0!==_.length)?b&&0===_.length?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:E}),R&&(0,a.jsxs)(i.z,{variant:"outline",onClick:U,className:"mt-2",children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),C("retry")]})]})}):(0,a.jsxs)(a.Fragment,{children:[_.map((e,t)=>(0,a.jsx)(r.Z,{className:u,...e},"".concat(e.projectTemplateId,"-").concat(t))),v&&(P||T)||R&&!T||!P&&!T&&_.length>0?(0,a.jsxs)("div",{className:"col-span-full",children:[v&&(P||T)&&(0,a.jsx)("div",{ref:G,className:"mt-8 text-center",children:T&&(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4 animate-spin"}),C("loadingMore")]})}),R&&!T&&(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("p",{className:"text-destructive mb-2",children:R}),(0,a.jsxs)(i.z,{variant:"outline",onClick:U,children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),C("retry")]})]}),!P&&!T&&_.length>0&&(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:C("noMore",{count:W>0?W:_.length})})})]}):null]}):(0,a.jsxs)("div",{className:"col-span-full",children:[v&&(P||T)&&(0,a.jsx)("div",{ref:G,className:"mt-8 text-center",children:T&&(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(o.Z,{className:"mr-2 h-4 w-4 animate-spin"}),C("loadingMore")]})}),R&&!T&&(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("p",{className:"text-destructive mb-2",children:R}),(0,a.jsxs)(i.z,{variant:"outline",onClick:U,children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),C("retry")]})]})]})}},76827:function(e,t,s){s.d(t,{default:function(){return h}});var a=s(57437),l=s(2265),n=s(33145),r=s(42586),i=s(5256),o=s(92451),c=s(10407),d=s(69863),u=s(95537);function h(e){let{showcaseImageList:t,onImageClick:s}=e,h=(0,r.useTranslations)("playbook"),m=(0,l.useRef)(null),[x,p]=(0,l.useState)(!1),[g,f]=(0,l.useState)(!0),v=e=>{(0,d.L)(u.j.ClickCasePageImage),i.J.openGallery(t,e,{onIndexChange:s})},j=()=>{let e=m.current;e&&(p(e.scrollLeft>0),f(e.scrollLeft<e.scrollWidth-e.clientWidth))};if((0,l.useEffect)(()=>{let e=m.current;if(e)return j(),e.addEventListener("scroll",j),()=>e.removeEventListener("scroll",j)},[t]),!t||0===t.length)return null;let w=[...t];return(0,a.jsxs)("div",{className:"relative w-full group",children:[x&&(0,a.jsx)("button",{onClick:()=>{let e=m.current;if(e){let t=window.innerWidth<640;e.scrollBy({left:-((t?200:292)+(t?12:16)),behavior:"smooth"})}},className:"absolute left-1 sm:left-2 top-1/2 -translate-y-1/2 z-10 w-8 h-8 sm:w-10 sm:h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 opacity-80 sm:opacity-0 group-hover:opacity-100","aria-label":"Scroll left",children:(0,a.jsx)(o.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700"})}),g&&(0,a.jsx)("button",{onClick:()=>{let e=m.current;if(e){let t=window.innerWidth<640;e.scrollBy({left:(t?200:292)+(t?12:16),behavior:"smooth"})}},className:"absolute right-1 sm:right-2 top-1/2 -translate-y-1/2 z-10 w-8 h-8 sm:w-10 sm:h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center transition-all duration-200 opacity-80 sm:opacity-0 group-hover:opacity-100","aria-label":"Scroll right",children:(0,a.jsx)(c.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-700"})}),(0,a.jsx)("div",{ref:m,className:"w-full overflow-x-auto overflow-y-hidden [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] touch-pan-x",children:(0,a.jsx)("div",{className:"flex space-x-3 sm:space-x-4 pb-4 w-max",children:w.map((e,t)=>(0,a.jsx)("div",{className:"bg-[#F1EFE9] flex-shrink-0 w-[200px] h-[433px] sm:w-[292px] sm:h-[633px] cursor-pointer overflow-hidden rounded-[24px] border transition-all duration-200 hover:shadow-lg group/item",onClick:()=>v(t),children:(0,a.jsx)(n.default,{src:e,alt:h("appScreenshot")+" ".concat(t+1),width:292,height:633,className:"w-full h-full object-cover transition-transform group-hover/item:scale-105",loading:"lazy"})},t))})}),t.length>2&&(0,a.jsx)("div",{className:"absolute top-2 right-6 sm:hidden bg-black/50 text-white px-2 py-1 rounded text-xs backdrop-blur-sm",children:h("swipeToViewMore")})]})}},95387:function(e,t,s){s.d(t,{default:function(){return r}});var a=s(57437);s(2265);var l=s(69863),n=s(95537);function r(e){let{targetHash:t,children:s,className:r="",offset:i=104,onClick:o,trackingEvent:c}=e;return(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),c&&(0,l.L)(n.j[c]),null==o||o();let s=document.getElementById(t);if(s){let e=104===i?window.innerWidth>=768?124:104:i,a=s.offsetTop-e;window.scrollTo({top:a,behavior:"smooth"}),window.history.pushState(null,"","#".concat(t))}},className:r,children:s})}}}]);